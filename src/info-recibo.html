<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Dashboard | Mtrek</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link href="./styles/output.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&display=swap"
    rel="stylesheet" />
</head>

<style>
  :root {
    --bg-primary: #83217c;
    --bg-secundary: #a32d9b;
    --ecommerce-color: #f2981e;
    --energy-color: #5f7336;
  }

  .bg-primary {
    background: #83217c;
  }
  select {
    appearance: none; /* Remove a aparência padrão do sistema */
    -webkit-appearance: none; /* Para compatibilidade com navegadores WebKit */
    -moz-appearance: none; /* Para compatibilidade com navegadores Firefox */
    background-image: url('./assets/images/icons/Mostrar-Menu-form.png'); /* Define a imagem da seta */
    background-repeat: no-repeat; /* Garante que a imagem não se repita */
    background-position: right 10px center; /* Posiciona a imagem à direita com um espaço */
    padding-right: 30px; /* Ajusta o padding para dar espaço suficiente para a imagem */
    background-color: #D9D9D9;
  }

</style>

<body>
  <section class=" container mx-auto  rounded-3xl shadow-md m-4" style="max-width: 1200px;">
    <div class="bg-primary px-10 text-white font-black rounded-t-3xl py-4">
      <h1 style="font-size: 22px">
        Carregue o Recibo de Pagamento da sua conta de Energia
      </h1>
    </div>
    <div class="px-10 py-4">
      <div class="py-3">
        <p>
          Para garantir que você possa começar a economizar e aproveitar todos
          os benefícios da Mtrek, por favor, carregue o recibo a cada pagamento
          da sua conta de energia, todos os meses. Isso nos ajudará a validar
          suas informações e ajustar nossos serviços para oferecer a melhor
          experiência possível. É rápido, fácil e você estará um passo mais
          perto de desfrutar de energia limpa e sustentável com descontos
          incríveis!
        </p>
      </div>
      <div class="flex gap-3 justify-between">
        <form id="reciboForm" onsubmit="submitForm(event)" enctype="multipart/form-data" class="w-full md:w-1/2">
          <div class="mb-4">
            <label for="data_envio" class="block font-bold text-black ">Data de Envio</label>
            <input style="background: #D9D9D9;" type="date" id="data_envio" name="data_envio" required
              class="mt-3 block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:gray focus:border-indigo-500 sm:text-sm text-gray-500" />
          </div>

          <div class="mb-4">
            <label for="distribuidora" class="block font-bold text-black size-4">Distribuidora</label>
            <select id="distribuidora" name="distribuidora" required
              class="mt-3 block w-full px-3 py-3 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:gray focus:border-indigo-500 sm:text-sm text-gray-500">
              <option value="">Selecionar a distribuidora de energia</option>
              <option value="distribuidora1">Distribuidora 1</option>
              <option value="distribuidora2">Distribuidora 2</option>
              <option value="distribuidora3">Distribuidora 3</option>
              <!-- Adicione mais opções conforme necessário -->
            </select>
          </div>

          <div class="mb-4">
            <div class="relative h-8">
              <input type="file" id="recibo" name="recibo" accept=".pdf,.jpg,.png,.doc" required class="sr-only"
                aria-label="Carregar Recibo" onchange="updateFileName(this)" />
              <label style="font-size: 18px; background: #D9D9D9;" for="recibo" id="file-btn"
                class="absolute inset-0 cursor-pointer flex items-center justify-center border-gray-300 hover:border-indigo-600 focus-within:outline-none focus-within:ring-2 focus-within:ring-indigo-500 focus-within:border-indigo-500 rounded-3xl font-black">
                <span id="file-btn-text">Carregar Recibo</span>
              </label>
            </div>
            <p class="font-black" style="font-size: 15px;">
              <span id="file-name-placeholder">Tipos permitidos: .jpg, .png, .pdf, .doc</span>
            </p>
          </div>

          <button type="submit" id="enviarReciboBtn" disabled style="font-size: 18px; background: #D9D9D9;"
            class="w-full bg-gray-300 hover:bg-gray-400 focus:outline-none focus:ring-2 focus:ring-gray-300 focus:ring-opacity-50 rounded-3xl font-black">
            Enviar Recibo
          </button>
        </form>

        <img class="hidden md:block mr-10" src="assets/images/Recibo 1.png" alt="Recibo">
      </div>

    </div>
  </section>

  <section class="container mx-auto flex flex-col md:flex-row mb-10 rounded-lg shadow-md" style="background-color: #5f7336;">
    <div class="md:w-1/2 flex items-center justify-center order-2 md:order-1">
      <img src="assets/images/medium-shot-happy-friends-city.png" alt="Amigos felizes na cidade"
        class="h-full object-cover md:rounded-l-lg md:rounded-b-none rounded-b-lg">
    </div>
    <div class="md:w-1/2 px-6 flex items-center justify-center order-1 md:order-2 p-4">
      <div class="max-w-lg mx-auto flex flex-col gap-5">
        <h1 class="text-4xl font-bold text-white">Compartilhe a Mtrek e Construa sua Rede de Afiliados!</h1>
        <p class="text-white text-lg">Você já faz parte da Mtrek e está aproveitando os benefícios de energia limpa e
          sustentável com descontos incríveis. Agora, imagine poder aumentar ainda mais suas vantagens e até ganhar uma
          renda extra! Compartilhando a Mtrek com seus amigos e familiares, você não só ajuda outras pessoas a
          economizarem na conta de energia, mas também acumula recompensas exclusivas.</p>
        <ul class="text-lg flex flex-col gap-2 text-white">
          <h2 class="text-2xl">Por que Compartilhar a Mtrek?</h2>
          <li class="flex items-center"><img src="assets/images/icons/Aprovado ou Selecionado_4-8 8.png" class="mr-2"
              alt="Ícone de aprovação">Economia Adicional</li>
          <li class="flex items-center"><img src="assets/images/icons/Aprovado ou Selecionado_4-8 8.png" class="mr-2"
              alt="Ícone de aprovação">Renda Extra</li>
          <li class="flex items-center"><img src="assets/images/icons/Aprovado ou Selecionado_4-8 8.png" class="mr-2"
              alt="Ícone de aprovação">Sustentabilidade</li>
          <li class="flex items-center"><img src="assets/images/icons/Aprovado ou Selecionado_4-8 8.png" class="mr-2"
              alt="Ícone de aprovação">Benefícios Exclusivos</li>
        </ul>
        <a href="#" class="block w-32 py-1 rounded-3xl font-black rounded-md text-center hover:border-[#ABFF00] transition duration-300 ease-in-out" style="background-color: #ABFF00; border: 2px solid transparent;">
          Indicar
      </a>
      </div>
    </div>
  </section>

  <script>
    // Função para atualizar o nome do arquivo exibido
    function updateFileName(input) {
      const file = input.files[0];
      const label = document.getElementById('file-btn');
      const labelText = document.getElementById('file-btn-text');

      if (file) {
        labelText.textContent = 'Recibo carregado';
        label.style.background = '#3D113A'; // Altera a cor
        label.style.color = '#ffffff'; // Texto branco quando habilitado
      } else {
        labelText.textContent = 'Carregar Recibo';
        label.style.background = '#D9D9D9';
        label.style.color = '#000000'; // Texto preto quando não há arquivo carregado
      }
    }


    // Função para verificar se todos os campos estão preenchidos
    function checkForm() {
      const dataEnvio = document.getElementById('data_envio').value.trim();
      const distribuidora = document.getElementById('distribuidora').value.trim();
      const recibo = document.getElementById('recibo').files.length > 0;

      const enviarReciboBtn = document.getElementById('enviarReciboBtn');

      // Condição para habilitar o botão e alterar o estilo
      if (dataEnvio !== '' && distribuidora !== '' && recibo) {
        enviarReciboBtn.disabled = false;
        enviarReciboBtn.style.background = '#5F7336'; // Altera para verde
        enviarReciboBtn.style.color = '#ffffff'; // Texto branco quando habilitado
      } else {
        enviarReciboBtn.disabled = true;
        enviarReciboBtn.style.background = '#D9D9D9'; // Mantém o estilo padrão
        enviarReciboBtn.style.color = '#000000'; // Texto preto quando desabilitado
      }
    }

    // Adiciona listeners para os campos do formulário
    document.getElementById('data_envio').addEventListener('input', checkForm);
    document.getElementById('distribuidora').addEventListener('change', checkForm);
    document.getElementById('recibo').addEventListener('change', function () {
      checkForm();
      updateFileName(this);
    });


    
    // Função para enviar dados para o console ao invés de um backend real
    function submitForm(event) {
      event.preventDefault(); // Previne o envio padrão do formulário

      const dataEnvio = document.getElementById('data_envio').value.trim();
      const distribuidora = document.getElementById('distribuidora').value.trim();
      const reciboFile = document.getElementById('recibo').files[0];

      console.log("Data de Envio:", dataEnvio);
      console.log("Distribuidora:", distribuidora);
      console.log("Recibo:", reciboFile); // Aqui você pode ver o objeto de arquivo completo

      // Limpar os campos do formulário após enviar para o console
      document.getElementById('data_envio').value = '';
      document.getElementById('distribuidora').value = '';
      document.getElementById('recibo').value = ''; // Limpa o input de arquivo

      // Resetar o estado dos botão 
      document.getElementById('enviarReciboBtn').disabled = true;
      document.getElementById('enviarReciboBtn').style.background = '#D9D9D9'; // Mantém o estilo padrão
      document.getElementById('enviarReciboBtn').style.color = '#000000'; // Texto preto quando desabilitado


      document.getElementById('file-btn-text').textContent = 'Carregar outro';
      document.getElementById('file-btn').style.color = '#000000'; 
      document.getElementById('file-btn').style.background = '#D9D9D9'; 
    }


  </script>

</body>

</html>